# Pyxelによる3Dカメラ投影

このプロジェクトは、PythonとPyxelを使用したシンプルな3Dカメラ投影システムを実装しています。ユーザーは仮想3D空間内を移動し、オブジェクトを2Dスクリーンに投影することができます。カメラの移動や向きの調整はキーボード入力で操作可能です。

## 特徴

- 3D座標を2Dスクリーンに投影（透視投影）
- カメラの移動（前進、後退、上下移動）
- カメラの回転（左右、上下）
- 奥行きスケールの調整
- グリッドレンダリングによる可視化
- デバッグ情報の表示

## インストール方法

このプロジェクトを実行するには、PythonとPyxelが必要です。Pyxelは以下のコマンドでインストールできます。

```sh
pip install pyxel
```

## 実行方法

以下のコマンドでスクリプトを実行してください。

```sh
python main.py
```

## 操作方法

| キー       | 動作                                    |
|-----------|-----------------------------------------|
| W         | 前進                                    |
| S         | 後退                                    |
| K         | 上に移動                                |
| J         | 下に移動                                |
| 左矢印    | 左に回転                                |
| 右矢印    | 右に回転                                |
| 上矢印    | 上に回転                                |
| 下矢印    | 下に回転                                |
| Z         | 奥行きスケールを増加                    |
| X         | 奥行きスケールを減少                    |

## コード概要

### `Camera` クラス

`Camera` クラスは3Dから2Dへの投影とカメラの変換を担当します。

- `cal_pos_on_screen(pos: np.array)`: 3Dのワールド座標を2Dスクリーン座標に変換。
- `move(dx, dy, dz)`: カメラを3D空間内で移動。
- `rotate(dh, dv)`: カメラの向きを回転。

### `App` クラス

`App` クラスはPyxelのメインループとユーザー入力を管理します。

- `update()`: ユーザー入力に基づいてカメラの移動や回転を処理。
- `draw()`: 画面をクリアし、投影された3Dグリッドをレンダリング。
- `draw_debug()`: カメラの位置や角度をデバッグ用に表示。

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。
